<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  建造者模式注重于创建对象的细节，使用这种模式创建出来复杂对象或者复合对象结构会非常清晰
</body>
<script>
  let data = [
    {
      name: 'ink hui',
      age: '18',
      work: 'enginner'
    },
    {
      name: 'lu lu',
      age: '18',
      work: 'teacher'
    },
    {
      name: 'ot her',
      age: '18',
      work: 'other'
    },
  ]

  function Candidate (param) {
    let _candidate = new Person(param)
    _candidate.name = new CreateName(param.name)
    _candidate.work = new CreateWork(param.work)
    return _candidate
  }
  function Person (param) {
    this.name = param.name
    this.age = param.age
  }
  function CreateName (name) {
    this.fullName = name
    this.firstName = name.split(' ')[0]
    this.lastName = name.split(' ')[1]
  }
  function CreateWork(work) {
    switch (work) {
      case 'enginner':
        this.name = '工程师'
        this.description = '热爱开发'
        break;
      case 'teacher':
        this.name = '教师'
        this.description = '热爱教学'
        break;
      default:
        this.name = work
        this.description = '无'
        break;
    }
  }
  CreateWork.prototype.changeWork = function (work) {
    this.name = work
  }
  CreateWork.prototype.changeDes = function (des) {
    this.description = des
  }


  let candidateArr = []
  for(let i = 0; i < data.length; i ++ ) {
    candidateArr[i] = Candidate(data[i])
  }
  console.log(candidateArr[0])

  candidateArr[0].work.changeWork('xixixiix')
  console.log(candidateArr[0])
</script>
</html>