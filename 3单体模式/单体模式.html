<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  单例/单体模式：使用方法创建对象的时候，无论创建多少次都指向同一个对象
</body>
<script>
  // {
  //   let _unique = null;
  //   function createSingle() {
  //     var obj = {
  //       a: 1
  //     }
  //     if (_unique == null) {
  //       _unique = obj
  //     }
  //     return _unique
  //   }
  //   let a = createSingle()
  //   // _unique = null; // 此操作之后 即不相等了
  //   let b = createSingle()
  //   console.log(a, b, a === b)
  //   // 此方法弊端 - 需要存储全局变量
  // }

  {
    // 可使用闭包解决
    let createSingle = (function () {
      let _unique = null
      var obj = {
        a: 1
      }
      return function () {
        if (_unique == null) {
          _unique = obj
        }
        return _unique
      }
    })()
    let a = createSingle()
    let b = createSingle()
    console.log(a, b, a === b)
  }
</script>
</html>